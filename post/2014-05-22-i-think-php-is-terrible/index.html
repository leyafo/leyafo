<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" prefix="og: http://ogp.me/ns#" xmlns:og="http://ogp.me/ns#"><!--<![endif]-->

    <head>
                <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="author" content="">
        <meta name="keywords" content="awesome, definitely">
	
        <meta property="og:site_name" content="Do Right Things">
        <meta property="og:title" content="Do Right Things">
        <meta property="og:url" content="http://www.leyafo.com/post/2014-05-22-i-think-php-is-terrible/">
        <meta property="og:description" content="">
    
        <meta property="og:type" content="article" />
        <meta property="og:article:author" content="" />
        <meta property="og:article:published_time" content="2014-05-22T00:29:00&#43;08:00" />
    
        <meta name="generator" content="Hugo 0.16" />
        
        <title>我认为PHP不好的地方 - leyafo</title>
        <meta property='og:title' content="我认为PHP不好的地方 - Do Right Things">
        <meta property="og:type" content="article">
        

        <link rel="canonical" href="http://www.leyafo.com/" />
        <link rel="alternate" type="application/rss+xml" title="RSS" href="">
        <link rel="stylesheet" type='text/css' href="http://www.leyafo.com/css/main.css"/>
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300|Montserrat:700' rel='stylesheet' type='text/css'>
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
        <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
    </head>

<body>
<!--[if lt IE 7]><p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chrome/‎">install Google Chrome</a> to experience this site.</p><![endif]-->

    <header id="site-header">
        <div class="container">
            <a href="http://www.leyafo.com/" alt="Do Right Things"><h1 class="blog-title heading">Do Right Things</h1></a>
            <p class="blog-description"></p>
        </div>
    </header>

<main class="content" role="main">
	<div class="container">
		<article class="post">
	<header class="post-header">
        <h3 class="p-post-title">我认为PHP不好的地方</h3>
    </header>

    <section class="post-content">
        

<p>最近在用PHP做项目，让我个人感觉PHP是门非常不顺手的编程语言。PHP太多东西给人的感觉就像是一个半成品。</p>

<h2 id="namespace">namespace</h2>

<p><em>PHP</em> 的 <strong>namespace</strong> 是我见过的所有语言最难用的 <strong>namespace</strong>，没有之一。它使用反斜杠<strong>\**来进行层级切分，在使用上非常容易跟 <em>include</em> 使用的文件路径斜杠搞混淆。</strong>namespace** 的 <strong>use</strong> 语句使用也是让人赶到非常奇怪，它不能在代码中的任意作用域使用，只能在一个文件的最顶级作用域中使用 <strong>use</strong>。<strong>namespace</strong> 这个东西是控制访问冲突使用的，在文件顶级作用域中使用 <strong>namespace</strong> 是一个产生冲突的隐患。这就是一个半成品，<em>PHP</em> 中的内部库函数是没有使用 <em>namespace</em> 的，也不知道他们自己为啥不用这玩意。</p>

<h2 id="变量">变量</h2>

<p>在每一个变量前加一个<strong>$</strong>符号，让我对这个语言的第一印象非常不好，给我的感觉是丑陋。变量名加<strong>$</strong>可以很方便的嵌入到字符串中，但是 <em>PHP</em> 在字符串内嵌中增加了 <strong>{}</strong> 语法，这让变量前面 <strong>$</strong> 符号失去了它唯一的作用。<strong>$</strong> 符号除了让代码变得更丑陋以外，没有任何的实际用处。另外在 <em>PHP</em> 中 <strong>if</strong> 和 <strong>for</strong> 还有 <strong>while</strong> 一系列控制语句中，变量是没有作用域的。可以很随意的去拿 <strong>if</strong> 和 <strong>else</strong> 中的变量，解释器不会报错。但是你不知道什么时候解释器会给你报一个 <strong>undefine</strong> 的错误。</p>

<h2 id="函数与闭包">函数与闭包</h2>

<p>函数本身没啥好说的，每个语言最基本的单元。如果这玩意也实现不好那真的太糟了。但我要说的是 <em>PHP</em> 从5.3以后引入的匿名函数。<em>PHP</em> 的匿名函数看起来好像是可以在任意的地方定义它，这很符合匿名函数的特性。但问题是你如果要用到上下文变量需要显示的使用 <em>use</em> 将变量引入。这看起来好像是没有什么问题，但是如果函数嵌套的层级一多，这完全是个枷锁。另外如果要判断一个变量是不是一个函数 <em>PHP</em> 有一个 <strong>is_callable</strong> 的方法,这个方法的奇怪之处在于你可以传入变量名或者以字符串形式传入函数名。但如果直接传入一个函数它返回的值是 <strong>false</strong>。经过使用 <strong>is_callable</strong> 函数的一些失败尝试后，我彻底放弃了 <strong>PHP</strong> 的匿名函数与闭包。</p>

    </section>

    <hr>

    <footer class="post-footer">
        <section class="f-1">
            
            
            <p class="f-post-time"><time datetime="2014-05-22T00:29:00&#43;08:00">May 22, 2014</time></p>
        </section>
                        
        <section class="f-2">
            <section class="share">
                <span>Share:
                <a class="icon-twitter" href="http://twitter.com/share?text=%e6%88%91%e8%ae%a4%e4%b8%baPHP%e4%b8%8d%e5%a5%bd%e7%9a%84%e5%9c%b0%e6%96%b9&url=http%3a%2f%2fwww.leyafo.com%2fpost%2f2014-05-22-i-think-php-is-terrible%2f"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="fa fa-twitter"></i>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fwww.leyafo.com%2fpost%2f2014-05-22-i-think-php-is-terrible%2f"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="fa fa-facebook"></i>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http%3a%2f%2fwww.leyafo.com%2fpost%2f2014-05-22-i-think-php-is-terrible%2f"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="fa fa-google-plus"></i>
                </a>
                </span>
            </section>

            
        </section>
                
        <section id="comments">
            <div id="disqus_thread" class="post-comments"></div>
            <script type="text/javascript">
              if (window.location.hostname != "localhost") {
                var disqus_shortname = 'yafo';
                (function() {
                  var dsq = document.createElement('script');
                  dsq.type = 'text/javascript';
                  dsq.async = true;
                  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
              }
            </script>
            <noscript>
              Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
            </noscript>
        </section>
                
    </footer>
</article>

	</div>
</main>
    <footer id="site-footer">
        <div class="container">
            <a href="http://www.leyafo.com/index.xml" title="Get the RSS feed"><span class="tooltip"><i class="fa fa-rss"></i></span></a>
            <section>&copy; <a href="http://www.leyafo.com/"></a> 2015 | All rights reserved</section>
            <section>Theme by <a href="http://www.jrdnbwmn.com">Jordan Bowman</a>. Generated with <a href="http://gohugo.io/">Hugo</a>.</section>
        </div>
    </footer>

    <script type="text/javascript" src="http://www.leyafo.com/js/fittext.js"></script>
    <script type="text/javascript">
      $(".heading").fitText();
    </script>


</body>
</html>